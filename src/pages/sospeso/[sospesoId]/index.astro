---
import { actions } from 'astro:actions';
import invariant from '@/invariant.ts';
import { SospesoDetail } from '@/components/SospesoDetail.tsx';
import Layout from '@/layouts/Layout.astro';
import { NOT_FOUND_404_RESPONSE } from '@/web.ts';

const { sospesoId } = Astro.params;

invariant(sospesoId, '404 NOT FOUND');

const { data } = await actions.retrieveSospesoDetail({ sospesoId });

if (!data) {
  return NOT_FOUND_404_RESPONSE;
}
---

<Layout title="소스페소 상세">
  <div>
    <SospesoDetail sospeso={data} />
  </div>
</Layout>
